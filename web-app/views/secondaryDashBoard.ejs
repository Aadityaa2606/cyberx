<%- include('templates/header') %>

<link rel="stylesheet" href="css/secondaryDashBoard.css" />

<div class="row mt-5">
  <div class="col-4">
    <div class="d-flex justify-content-center ss-holder">
      <img src="/assets/mobile-frame.png" alt="mobile-frame" class="ss-fram">
      <img src="/homescreen.png" alt="mobile-ss" class="ss"/>
    </div>
    <div class="d-flex justify-content-center">
      <div class="device-info">
        <div class="device-info-wrapper">
          <p class="model"><%= model %></p>
          <div class="d-flex align-items-center align-self-stretch">
            <img src="/assets/battery.png" alt="battery" />
            <p class="battery-percentage"><%= battery %>%</p>
            <img src="/assets/signal-indicator.png" alt="signal-indicator" />
            <p class="vnet">Vnet <%= vnet %></p>
          </div>
          <div class="d-flex align-items-center">
            <div class="android-v">Android <%= androidver %></div>
            <div class="root-status">Not Rooted</div>
          </div>
          <br />
          <div class="sync-status d-flex align-items-center">
            <img src="/assets/sync-warning.png" alt="sync-warning" />
            <p>Data is still syncing..</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-8">
    <div class="d-flex">
      <div class="content-holder">
        <div class="row mt-5">
          <div class="col-4 d-flex justify-content-center" role="button">
            <div class="sq-card">
              <a href="http://localhost:3000/contacts" class="clickable">
                <div class="status">Synced</div>
                <div class="d-flex justify-content-center mt-3">
                  <p class="num">312</p>
                </div>
                <div class="d-flex justify-content-end">
                  <p class="tag">Contacts</p>
                </div>
              </a>
            </div>
          </div>
          <div class="col-4 d-flex justify-content-center">
            <div class="sq-card">
              <a href="http://localhost:3000/calllogs/" class="clickable">
                <div class="status">Synced</div>
                <div class="d-flex justify-content-center mt-3">
                  <p class="num">3k</p>
                </div>
                <div class="d-flex justify-content-end">
                  <p class="tag">Call logs</p>
                </div>
              </a>
            </div>
          </div>
          <div class="col-4 d-flex justify-content-center">
            <div class="sq-card">
              <a href="http://localhost:3000/sms" class="clickable">
                <div class="status">Synced</div>
                <div class="d-flex justify-content-center mt-3">
                  <p class="num">2k</p>
                </div>
                <div class="d-flex justify-content-end">
                  <p class="tag">Sms</p>
                </div>
              </a>
            </div>
          </div>
        </div>
        <div class="row below-row">
          <div class="col-4 d-flex justify-content-center">
            <div class="sq-card">
              <a href="http://localhost:3000/files" class="clickable">
                <div class="status">Synced</div>
                <div class="d-flex justify-content-center mt-3">
                  <p class="num">312</p>
                </div>
                <div class="d-flex justify-content-end">
                  <p class="tag">Files</p>
                </div>
              </a>
            </div>
          </div>
          <div class="col-6 d-flex justify-content-center">
            <link rel="stylesheet" href="/css/facialRecognition.css" />

            <div class="upload-files-wrapper">
              <div class="card">
                <h3>Facial Recognition</h3>
                <div class="drop_box">
                  <header>
                    <h4>Select File here</h4>
                  </header>
                  <p>Files Supported: JPG, JPEG, PNG</p>
                  <input
                    type="file"
                    hidden
                    accept=".doc,.docx,.pdf"
                    id="fileID"
                    style="display: none"
                  />
                  <button class="choose-btn">Choose File</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const dropArea = document.querySelector(".drop_box"),
    button = dropArea.querySelector("button"),
    dragText = dropArea.querySelector("header"),
    input = dropArea.querySelector("input");
  let file;
  var filename;

  button.onclick = () => {
    input.click();
  };

  input.addEventListener("change", function (e) {
    var fileName = e.target.files[0].name;
    let filedata = `
      <form
    action="/api/face_reg_predict/"
    method="POST"
    enctype="multipart/form-data">
    
      <div class="form">
      <h3>File Name</h3>
      <h4>${fileName}</h4>
      
      <button class="choose-btn">Upload</button>
      </div>
      </form>`;
    dropArea.innerHTML = filedata;
  });
</script>
